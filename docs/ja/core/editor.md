# エディタ

Zettlrの心臓部は、パワフルなMarkdownエディタに置かれています。これには、**[CodeMirror](https://codemirror.net/)**という非常に洗練されたソフトウェアを使っているので、多くの機能がそのまま利用できます。

このドキュメントでは、Markdownの書き方、利用可能なコマンド、CodeMirrorの特別な機能をいくつか、それと、スペルチェックの機能について説明します。

## Markdownを書く

Zettlrの背後にあるアイディアは、文書を書くプロセスから、不要なマークアップとスタイリングを取り除くというものです。文書を書くプロセスで問題となるのは、書かれる**内容**であって、その見た目ではありません。もちろん、ある程度の書式は提供されます。しかし、文字の色や左右揃えとなると、文書を書くのに、そのような多くの設定項目が本当に必要となることはありません。書式設定は、**後で**やることです。

そのため、Zettlrでは**Markdown**ファイルを使って書きます。Markdownは、あなたがすでに知っているような、少数の書式記号のみを含んだ、非常にシンプルなマークアップ言語です。近年では、Markdownのパワーに気づくアプリケーションが増え、WhatsAppでもMarkdownを使ってメッセージに簡単な書式を設定することができるようになっています。

Markdown文書は、純粋なテキストのみで構成され、これには多くの利点があります:

* Markdownは**プラットフォームに依存しません**。macOSで作ったMarkdownファイルを(変換することなく)、WindowsやLinuxでも同様に編集することができます。必要なものはテキストエディタだけです。そして、各OSごとに、「メモ帳」(Windows)、「テキストエディット」(macOS)、「GEdit」(Ubuntu)という組み込みのものが用意されています。
* Markdownの文法は、**シンタックスハイライトがなくても文章が理解できる**ようにデザインされています。見出しは、たとえ書式が設定されていなくても、ハッシュ記号(#)で始まっているので容易に見つけることができます。リストは点か番号で示され、テキストの強調は、アンダーバーかアスタリスクで挟むことで示されます。
* Markdownは**オープンソース標準**です、つまり、誰でも(私たちがやったように)ソフトウェアに組み込んで、それを元に開発することができます。言い換えると、**多くのアプリケーションでMarkdownを使えることが期待できる**ということです。
* Markdownはとてもシンプルで、それ自体では何の書式も設定されません。なので、アプリケーションごとに異なった見た目を導入することができます。**世の中には膨大なMarkdownアプリケーションがあり、それぞれ異なったアプローチを持っています。**Zettlrがお気に召さなければ、いつでも、フリーでオープンソースな多くのアプリケーションから選択することができます。
* Markdown文書には、アプリケーションが解釈すべき書式情報が最低限だけ含まれています。それゆえ、**Markdown文書は、従来のワードプロセッサフォーマットに比べて、およそ10分の1のサイズです。**
* 等々……

> Markdownができること、できないことを正確に知りたい場合は、[**Markdown**の章](../reference/markdown-basics.md)を参照してください。

## テキストを編集する

Zettlrでテキストを編集するのは簡単です。新しいファイルを作るか、既存のものを選択して、エディタ内部をクリックして書き始めるだけです。必要に応じてMarkdownの書式を使います。また、より簡単に書式を追加するためのショートカットが利用できます:

* `Cmd/Ctrl+B`: テキストを**太字**にします
* `Cmd/Ctrl+I`: テキストを _強調_ します
* `Cmd/Ctrl+K`: 新規の`[リンク](https://www.zettlr.com)`を作成します。選択中のテキストがリンクの説明となるので、URLを記述するだけです。加えて、クリップボードに有効なURLがコピーされている状態であれば、ZettlrはこのURLを使用します。つまり、自分では何もする必要がありません。
* `Cmd/Ctrl+Shift+I`: 画像を追加します。テキストを選択中であれば、それが画像の説明となります。画像ファイルのパスを入力するか、事前に画像ファイルのパスをコピーしておいてください。すると、Zettlrが自動的にクリップボードからパスを設定します。
* `Tab`: リストのインデントレベルを1つ増やします。

もちろん、他のどんなテキストエディタでも使えるような、デフォルトのショートカットキーも使うことができます: `Cmd/Ctrl+C`でコピー、`Cmd/Ctrl+V`で貼り付け、`Cmd/Ctrl+X`で切り取りです。元に戻す/やり直し、単語や行の削除もサポートしています。あなたが書きなれた方法で書くことができます。

## 書式を維持してコピー＆ペーストする

もちろん、書式が設定されたテキストを扱うのも必要な機能です。例えば、WordドキュメントやWebページから、書式付きのテキストをペーストしたいかもしれません。それなら、ただコピー＆ペーストするだけです。Zettlrは、書式付きテキストを検出すると、それらを自動的に変換して貼り付けます。もし、書式を取り除いてプレーンテキストで貼り付けたいのなら、`Shift`キーを押ししながらペーストしてください、。そうすれば、テキストの書式情報をMarkdownに変換しないということをZettlrに伝えることができます。

次に、Zettlrのテキストを書式付きで他のアプリケーションにコピーしたい場合です。Markdownとしてではなく、共通のフォーマットでコピーするには、`HTMLとしてコピー`を選択します。ショートカットは、`Cmd/Ctrl+Alt+C`です。

> 利用可能なすべてのショートカットは、[ショートカット](../reference/shortcuts.md)の章を参照してください。

## CodeMirrorの特別な機能

CodeMirrorは非常に強力なので、他にも便利な機能が(必要に応じて)利用できます。

* `Cmd`(macOS)または`Alt`(Windows/Linux)を押しながらテキストをクリックすると、**使えるカーソルが2つ**になります。これにより、同じテキストを何回か書く場合に時間を節約して書くことができます。このマルチカーソルモードを終了するには、エディタの任意の個所を普通にクリックしてください。
* `Cmd`(macOS)または`Alt`(Windows/Linux)を押しながらテキストを選択すると、同時に**複数のテキスト範囲を選択**することができます。これは、2つ以上のリンクを一度に作るときに便利です: リンクの説明として使いたいテキストの範囲を選択し、`Cmd/Ctrl+K`を押すと、すべての選択範囲が一発でリンクに変換されます。これは、太字や斜体の設定、引用の作成など、他のコマンドに対しても有効です。
* 何も選択していない状態で`Cmd/Ctrl+X`を押すと、**行をまるごと切り取ります**。それから`Cmd/Ctrl+V`を押すと、切り取った行が、現在カーソルのある行の上に貼り付けられます。
* CodeMirrorは、時間の節約のため**クォーテーションと括弧を自動的に閉じます**。`"`または`(`の文字を入力すると、それに対応して閉じる文字が自動的に入力されます。それから、クォーテーションの最後まで入力したら、`"`や`)`を入力します。すると、それらは*重複して入力されるのではなく*カーソルだけが移動します。この機能は選択中のテキストに対しても有効です。テキストを選択した状態で、これらの文字を入力すると、入力した文字に対応するペアで選択範囲を挟みます。

## スペルチェック

Zettlrにはスペルチェックの機能があります。設定ダイアログで、チェックする言語を選ぶことができます。チェック用の辞書はアプリケーションの起動時に読み込まれ、これを使ってエディタの内容をチェックします。Zettlrは、各単語に対してすべての辞書をチェックします。そして、どの辞書にも載っていない単語が見つかった場合、小さな点線で誤りを表示します。

単語を修正するには、右クリックしてコンテキストメニューの提案があれば、そこから選択してください。また、ユーザ辞書に単語を追加することもできます。

複数の言語で書いている場合も、問題ありません。書く可能性のある言語の辞書をすべて読み込んでおけば、すべての言語のチェックを同時に行えます。辞書はメモリを多く消費する可能性があることに注意してください。多く読み込み過ぎると、アプリケーションの動作が遅くなるかもしれません。

> **ヒント**: 設定で、すべての辞書のチェックを外すと、スペルチェック機能を完全に無効化できます。

## 脚注を使用する

Markdownにおいて脚注は、難しいことで有名です。その理由は、この機能を使うためにいくつかの特殊文字が必要ということと、脚注を入れたい箇所と文書末の参照テキストを置く箇所の2か所を同時に編集する必要があるということです。Zettlrは、この困難を可能な限り解消するため、次のような方法を取りました:

1. 脚注を書くにはショートカット`Cmd+Alt+R`(macOSのみ)または、`Ctrl+Alt+F` (macOS/Windows/Linux)を使います。
2. 脚注にマウスカーソルを当てると、エディタの下部に参照テキスト(脚注の中身)が表示されます。
3. `Alt`または`Ctrl`を押しながら文書中の脚注をクリックすると、脚注の内容を編集するためのポップアップが、その場に表示されます。編集が完了したら、`Shift+Enter`を押すと、ポップアップが閉じて、脚注のテキストが更新されます。
